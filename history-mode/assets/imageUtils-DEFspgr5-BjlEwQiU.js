const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gif-DHeqF3L8-uPiQFKgc.js","assets/story-YnVQjsbo.js","assets/main-BqdsHUTV.js","assets/main-CqTsodum.css","assets/story-C-tj6V1E.css","assets/apng-yK2aQNEM-DNfTKgCD.js","assets/_commonjsHelpers-BITg13Vk-KnjfkSck.js"])))=>i.map(i=>d[i]);
import{_ as u}from"./main-BqdsHUTV.js";import{dL as m,dM as w,b as f,R as y,c as p}from"./story-YnVQjsbo.js";let n=null,o=!0;function E(e,a,t){if(!e||!a)throw new Error("Cannot construct image data without dimensions");if(o)try{return new ImageData(e,a)}catch{o=!1}return d(e,a,t)}function L(e,a,t,r){if(!a||!t)throw new Error("Cannot construct image data without dimensions");if(o)try{return new ImageData(e,a,t)}catch{o=!1}const i=d(a,t,r);return i.data.set(e,0),i}function g(){return n||(n=document.createElement("canvas"),n.width=1,n.height=1),n}function d(e,a,t){return t||(t=g()),t.getContext("2d").createImageData(e,a)}async function h(e,a){const t=window.URL.createObjectURL(e);try{const{data:r}=await f(t,{...a,responseType:"image"});return r}catch(r){throw y(r)?r:new p("invalid-image",`Could not fetch requested image at ${t}`)}finally{window.URL.revokeObjectURL(t)}}async function R(e,a){const{arrayBuffer:t,mediaType:r}=await _(e,a),i=r==="image/png";if(r==="image/gif"){const{isAnimatedGIF:c,parseGif:s}=await u(()=>import("./gif-DHeqF3L8-uPiQFKgc.js"),__vite__mapDeps([0,1,2,3,4]));if(c(t))return s(t,a)}if(i){const{isAnimatedPNG:c,parseApng:s}=await u(()=>import("./apng-yK2aQNEM-DNfTKgCD.js"),__vite__mapDeps([5,6,1,2,3,4]));if(c(t))return s(t,a)}return h(new Blob([t],{type:r}),a)}async function _(e,a){const t=m(e);if(t?.isBase64)return{arrayBuffer:w(t.data),mediaType:t.mediaType};const r=await f(e,{responseType:"array-buffer",...a});return{arrayBuffer:r.data,mediaType:r.getHeader?.("Content-Type")??""}}export{R as b,L as g,E as y};
